## ğŸ” **æ„å»º â‰  æ‰“åŒ…ï¼è¿™æ˜¯å…³é”®è¯¯è§£**

### **æ„å»ºè¿‡ç¨‹çš„çœŸå®æµç¨‹**

```bash
# Next.js æ„å»ºè¿‡ç¨‹
pnpm build
```

**å®é™…å‘ç”Ÿäº†ä»€ä¹ˆï¼š**
```mermaid
graph TD
    A[æºä»£ç ] --> B[TypeScript ç¼–è¯‘]
    B --> C[ä»£ç åˆ†æå’Œä¾èµ–è¿½è¸ª]
    C --> D[Tree Shaking]
    D --> E[æ‰“åŒ…ä¼˜åŒ–]
    E --> F[ç”Ÿæˆé™æ€æ–‡ä»¶]
    
    G[node_modules] --> C
    H[devDependencies] --> B
    H --> D
```

- æœ¬åœ°ä¸ç”Ÿäº§ç¯å¢ƒçš„å·®å¼‚
```mermaid
graph TD
    A["å¼€å‘ç¯å¢ƒ<br/>npm install"] --> B["å®‰è£… dependencies"]
    A --> C["å®‰è£… devDependencies"]
    
    D["ç”Ÿäº§ç¯å¢ƒ<br/>npm install --production"] --> E["åªå®‰è£… dependencies"]
    D --> F["è·³è¿‡ devDependencies"]
    
    G["æ„å»ºè¿‡ç¨‹<br/>npm run build"] --> H["è¯»å–æºä»£ç "]
    H --> I["ä½¿ç”¨æ„å»ºå·¥å…·<br/>(éœ€è¦ devDependencies)"]
    I --> J["åˆ†æä»£ç ä¾èµ–<br/>(åªæ‰“åŒ…å®é™…ä½¿ç”¨çš„)"]
    J --> K["ç”Ÿæˆæ„å»ºäº§ç‰©"]
    
    style A fill:#e1f5fe
    style D fill:#fff3e0
    style G fill:#e8f5e8
```



## ğŸ“‹ **è¯¦ç»†è§£æä¸‰ä¸ªé˜¶æ®µ**

### **1. å¼€å‘ç¯å¢ƒ (`npm install`)**
```bash
pnpm install  # å®‰è£…æ‰€æœ‰ä¾èµ–
```
- âœ… **dependencies**: å®‰è£… (React, Next.js ç­‰)
- âœ… **devDependencies**: å®‰è£… (TypeScript, ESLint ç­‰)
- ğŸ¯ **ç›®çš„**: æä¾›å®Œæ•´çš„å¼€å‘ç¯å¢ƒ

### **2. ç”Ÿäº§ç¯å¢ƒ (`npm install --production`)**
```bash
pnpm install --production  # åªå®‰è£…è¿è¡Œæ—¶ä¾èµ–
```
- âœ… **dependencies**: å®‰è£…
- âŒ **devDependencies**: **ä¸å®‰è£…**
- ğŸ¯ **ç›®çš„**: å‡å°‘ç”Ÿäº§æœåŠ¡å™¨çš„åŒ…ä½“ç§¯

### **3. æ„å»ºè¿‡ç¨‹ (`npm run build`)**
```bash
pnpm build  # æ„å»ºä»£ç 
```
- ğŸ”§ **ä½¿ç”¨ devDependencies**: TypeScript ç¼–è¯‘å™¨ã€æ‰“åŒ…å·¥å…·
- ğŸ” **åˆ†æ dependencies**: æ‰¾å‡ºä»£ç ä¸­å®é™… import çš„åŒ…
- ğŸ“¦ **åªæ‰“åŒ…ä½¿ç”¨çš„ä»£ç **: ä¸æ˜¯å…¨é‡æ‰“åŒ…

## ğŸ¯ **å…³é”®ç†è§£ï¼šæ„å»º vs è¿è¡Œ**

è®©æˆ‘åˆ›å»ºä¸€ä¸ªå®é™…ä¾‹å­æ¥è¯´æ˜ï¼š
Ran tool
## ğŸ”‘ **æ ¸å¿ƒç­”æ¡ˆï¼šä¸ºä»€ä¹ˆä¸ä¼šæŠ¥é”™ï¼Ÿ**

### **å…³é”®ç†è§£ï¼šä¸¤ä¸ªä¸åŒçš„ç¯å¢ƒ**

1. **æ„å»ºç¯å¢ƒ** (å¼€å‘æœº/CIæœåŠ¡å™¨)
   ```bash
   pnpm install          # å®‰è£…æ‰€æœ‰ä¾èµ–
   pnpm build            # ä½¿ç”¨ devDependencies è¿›è¡Œæ„å»º
   # ç”Ÿæˆ: .next/ æ–‡ä»¶å¤¹ (é™æ€èµ„æº)
   ```

2. **è¿è¡Œç¯å¢ƒ** (ç”Ÿäº§æœåŠ¡å™¨)
   ```bash
   pnpm install --production  # åªå®‰è£… dependencies
   pnpm start                # è¿è¡Œæ„å»ºäº§ç‰©
   # è¿è¡Œ: .next/ æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹
   ```

### **ä¸ºä»€ä¹ˆèƒ½æ­£å¸¸å·¥ä½œï¼Ÿ**

**æ„å»ºäº§ç‰©æ˜¯è‡ªåŒ…å«çš„ï¼**

- âœ… **æ„å»ºæ—¶**: TypeScript å°†ä½ çš„ä»£ç  + ä¾èµ–ç¼–è¯‘æˆçº¯ JavaScript
- âœ… **è¿è¡Œæ—¶**: åªéœ€è¦ Node.js è¿è¡Œè¿™äº› JavaScript æ–‡ä»¶
- âœ… **ä¸å†éœ€è¦**: åŸå§‹çš„ TypeScript ç¼–è¯‘å™¨ã€æ‰“åŒ…å·¥å…·ç­‰

### **ç±»æ¯”ç†è§£**

```
æºä»£ç  + devDependencies â†’ [æ„å»ºè¿‡ç¨‹] â†’ å¯æ‰§è¡Œç¨‹åº

å°±åƒï¼š
C++ æºç  + ç¼–è¯‘å™¨ â†’ [ç¼–è¯‘] â†’ .exe æ–‡ä»¶

è¿è¡Œ .exe æ–‡ä»¶æ—¶ï¼Œä¸éœ€è¦å†å®‰è£… Visual Studioï¼
```

## ğŸ“Š **å®é™…éªŒè¯**

ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­éªŒè¯ï¼š

```bash
# 1. æ­£å¸¸æ„å»º
pnpm build

# 2. åˆ é™¤ devDependencies
rm -rf node_modules
pnpm install --production

# 3. å°è¯•è¿è¡Œæ„å»ºäº§ç‰©
pnpm start  # âœ… ä»ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œ!

# 4. å°è¯•é‡æ–°æ„å»º
pnpm build  # âŒ ä¼šæŠ¥é”™ï¼Œå› ä¸ºç¼ºå°‘ TypeScript ç­‰å·¥å…·
```

è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆç”Ÿäº§ç¯å¢ƒå¯ä»¥ä¸å®‰è£… devDependencies å´ä¸ä¼šæŠ¥é”™ï¼